<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <title>randometer.js demo</title>
  <script type="text/javascript" src="https://d3js.org/d3.v4.min.js"></script>
  <style>
    .rkm-background {
      background-color: black;
    }
    .rkm-item {
      fill: orange;
    }
  </style>
</head>
<body>
  <script>
    var dataset = [
        ['a', 'b', 'c', 'd'],
        ['a', 'b', 'c', 'e'],
        ['a', 'b', 'f', 'g'],
        ['a', 'b', 'f', 'x'],
        ['a', 'b', 'f', 'f']
    ];
    var svg = d3.select("body")
            .append("svg")
            .attr("class", "rkm-background")
            .attr("width", 500)
            .attr("height", 500);
    var groups = svg.selectAll('g.rkm-year-group')
      .data(dataset)
      .enter()
      .append("g")
      .attr("class", "year-group")
      .attr("x", function(d, i) {
        return i * (100+10);
      })
      .attr("y", function(d, i) {
        return 0;
      })
      .attr("width", 100)
      .attr("height", function(d, i) {
        return 400;
      });

    groups.each(function(year_data, year_index) {
      d3.select(this)
        .selectAll("rect.rkm-item")
        .data(year_data)
        .enter()
        .append("rect")
        .attr("class", "rkm-item")
        .attr("x", function(d) {
          return year_index * (100 + 10);
        })
        .attr("y", function(d, i) {
           return i * (40 + 5);
         })
         .attr("width", 100)
         .attr("height", 40);
    })
  //  svg.selectAll("rect")
  //     .data(dataset[1][1])
  //     .enter()
  //     .append("rect")
  //     .attr("x", function(d, i) {
  //       return 110;
  //     })
  //     .attr("y", function(d, i) {
  //       return i * (40 + 5);
  //     })
  //     .attr("width", 100)
  //     .attr("height", 40);
  </script>
</body>
